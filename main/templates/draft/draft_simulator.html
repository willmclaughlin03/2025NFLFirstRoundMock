{% extends 'draft/base.html' %}
{% load static %}


{% block content %}
<div class="draft-simulator" data-draft-id="{{ draft.id }}" data-rounds="{{ rounds }}">
    <div class="draft-header">
        <h1>NFL Draft Simulator</h1>
        <div class="draft-info">
            <span>Round: <span id="current-round">1</span></span>
            <span>Pick: <span id="current-pick">1</span></span>
        </div>
    </div>

    <div class="draft-board">
        <div class="available-players">
            <h2>Available Players</h2>
            <div class="player-filters">
                <select id="position-filter">
                    <option value="">All Positions</option>
                    <option value="QB">Quarterback</option>
                    <option value="RB">Running Back</option>
                    <!-- Add more positions -->
                </select>
                <input type="text" id="player-search" placeholder="Search Players">
            </div>

            <div id="player-list">
                <!-- Players will be dynamically populated -->
                {% for player in available_players %}
                <div class="player-card" data-position="{{ player.position }}">
                    <img src="{{ player.image.url }}" alt="{{ player.name }}">
                    <div class="player-details">
                        <h3>{{ player.name }}</h3>
                        <p>{{ player.position }} - {{ player.college }}</p>
                        <div class="player-stats">
                            <span>Draft Ranking: {{ player.draft_ranking }}</span>
                        </div>
                        <button class="draft-player-btn" data-player-id="{{ player.id }}">Draft</button>
                    </div>
                </div>
                {% endfor %}
            </div>
        </div>

        <div class="draft-picks">
            <h2>Your Draft Picks</h2>
            <div id="selected-players">
                <!-- Draft picks will be dynamically added -->
            </div>
        </div>
    </div>

    <div class="draft-actions">
        <button id="auto-draft-btn">Auto Draft</button>
        <button id="complete-draft-btn" disabled>Complete Draft</button>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script src="{% static 'draft/draft.js' %}"></script>
{% endblock %}